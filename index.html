<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jacksen & Jessica Wedding Invitation</title>
    <link rel="stylesheet" href="styles.css">

    <style>
        /* Hide sections initially except welcome */
        .hidden { display: none; }

        /* Fade out animation for welcome section */
        .fade-out {
            opacity: 0;
            transition: opacity 1s ease;
        }

        /* Optional: Fade-in animation for main content */
        .fade-in {
            opacity: 0;
            animation: fadeIn 1s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

    </style>

    <!-- Firebase JS via module CDN -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getDatabase } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCJdsciEiXcuImuuvtoH_3vFhdz3XRM3-I",
            authDomain: "wedding-database-e128c.firebaseapp.com",
            databaseURL: "https://wedding-database-e128c-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "wedding-database-e128c",
            storageBucket: "wedding-database-e128c.appspot.com",
            messagingSenderId: "144261977665",
            appId: "1:144261977665:web:508c89eff1e4d7ab7b18c0",
            measurementId: "G-JNR07XFJTC"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const database = getDatabase(app);
        window.firebaseDatabase = database;
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const openBtn = document.getElementById('openInvitationBtn');
            const welcomeSection = document.getElementById('section1');
            const mainSections = document.querySelectorAll('#section2, #section3, #section4, #section5, #section6, #section7, #pageFooter');

            openBtn.addEventListener('click', () => {
                // Fade out welcome section
                welcomeSection.classList.add('fade-out');

                // After fade-out, remove welcome and show main content
                setTimeout(() => {
                    document.body.classList.add('invitation-open');
                    welcomeSection.remove();
                    mainSections.forEach(sec => {
                        sec.classList.remove('hidden');
                        sec.classList.add('fade-in');
                    });
                }, 1000);
            });

            // Optional: personalize greeting based on URL query
            const urlParams = new URLSearchParams(window.location.search);
            const guestName = urlParams.get('guest');
            if (guestName) {
                document.getElementById('guestGreeting').textContent = guestName;
                document.getElementById('guestInviteLine').textContent = 'We cordially invite you to';
            }
        });
    </script>

</head>
<body>
<div class="bg-fixed" aria-hidden="true"></div>

<div class="container">

    <!-- Section 1: Greetings -->
    <div class="section" id="section1">
        <div class="greeting-content">
            <h1 id="guestGreeting">Andrew</h1>
            <p id="guestInviteLine">We cordially invite you to</p>
            <h2 class="couple-name">Jacksen &amp; Jessica</h2>
            <p class="wedding-label">Wedding</p>
            <img class="elegant-divider" src="assets/Divider Glasses.png" alt="" aria-hidden="true">
            <p class="wedding-date">30 January 2027</p>
            <p class="wedding-tagline">It's finally happening.</p>
            <button id="openInvitationBtn">Open Invitation</button>
        </div>
    </div>

    <!-- Section 2: Main Characters -->
    <div class="section hidden" id="section2">
        <h2>The Main Characters</h2>
        <div class="characters">
            <div>
                <img src="images/jessica.jpg" alt="Jessica Wong">
                <p><strong>Jessica Wong</strong></p>
                <p>Bride</p>
            </div>
            <div>
                <img src="images/jacksen.jpg" alt="Jacksen">
                <p><strong>Jacksen</strong></p>
                <p>Groom</p>
            </div>
        </div>
    </div>

    <!-- Section 3: Crossroad / Love Story Timeline -->
    <div class="section hidden" id="section3">
        <h2>The Crossroad</h2>
        <div class="timeline">
            <div>2018: We met at a mutual friend's party.</div>
            <div>2020: Our first vacation together to the beach.</div>

                <option value="">Select Attendance</option>
                <option value="Hadir">Hadir</option>
                <option value="Tidak Hadir">Tidak Hadir</option>
            </select>
            <button type="submit">Submit</button>
        </form>
        <div id="rsvpMessage"></div>

        <h3>Message Board</h3>
        <form id="messageForm">
            <input type="text" id="messageInput" placeholder="Leave your message" required>
            <button type="submit">Send</button>
        </form>
        <div id="messageBoard"></div>
    </div>

    <!-- Section 7: Closing -->
    <div class="section hidden" id="section7">
        <h2>Closing</h2>
        <p>We cannot wait to celebrate this special day with each and every one of you!</p>
    </div>

</div>

<!-- Footer -->
<footer id="pageFooter" class="hidden">
    <p>Follow us</p>
    <a href="https://wa.me/628XXXXXXXXXX" target="_blank" aria-label="WhatsApp">
        <img class="social-icon" src="assets/WA.png" alt="WhatsApp">
    </a>
    <a href="https://instagram.com/yourusername" target="_blank" aria-label="Instagram">
        <img class="social-icon" src="assets/IG.png" alt="Instagram">
    </a>
</footer>

</body>
</html>
